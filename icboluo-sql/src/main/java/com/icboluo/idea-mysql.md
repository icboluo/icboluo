## idea链接mysql

1.通过联网下载驱动

2.找到本地mysql的jar包，配置驱动就可以了

mysql union 作用就是拼接上面查询出的结果和下面查询出的结果，

查询结果不变，数据量增加

ctrl shift r 全局搜索 可以搜索数据库中的表的使用

## explain

mysql对于查询语句用explain进行优化

## 索引失效

当作为状态值的时候，如果该值的出现的比率较高，则索引失效

    首先进入该值的节点，然后进入下一个节点，这是用索引
    进入下一个节点（虽然节点数多，但是只走树的一个分支，很可能比较快），这是用全局扫描

索引要求离散度较高，才有区分度，没有使用索引是因为mysql优化认为不用索引效率更高

group by 和order by的时候，很容易造成效率低下，可以对count语句进行优化

- 联合索引的效率和普通索引的效率一致
- 联合索引（a，b，c）相当于创建了a、ab、abc索引，最左匹配，对于b相当于没有创建索引，所以，创建联合索引的时候 需要仔细点

uuid类型的主键，使用的时候用索引；自增类型的主键，使用的时候不用使用索引

mysql全表扫描对应explain中的all，是对数据进行一行一行的扫描

## 特殊sql

SELECT COALESCE(business_name,'no business_name') AS bus_coalesce FROM business WHERE id=1

查询，如果第一个结果为空，用第二个参数，如果第二个为空用下一个...

分组中可以使用，先求和，再求总和

使用场景：暂无，分组求和再代码中写更简单

## 建表

表字段用业务+字段属性...不要只用单纯的字段属性，不要觉得字段过长，这样，使用过程比较清晰

## left join

- left join and 中的and是先进行右表筛选，再进行总数据匹配，如果筛选结果为空，则left join的整个右表数据为空
- 业务中常进行整个数据筛选，用where比left join合适

## 最佳实践

- 对公共sql的更改需要在mapper接口上增加注释，更改公共sql的时候，需要merge，不准直接copy覆盖